"use strict";let loader=`<option value="">${jsLang("Loading")}...</option>`,selectCity=`<option value="">${jsLang("Select City")}</option>`,selectState=`<option value="">${jsLang("Select State")}</option>`,errorMsg=jsLang(":x is not available.");$(".addressSelect").select2(),$.ajax({url:url+"/geo-locale/countries",type:"GET",dataType:"json",beforeSend:function(){$("#country").html(loader),$("#country").attr("disabled","true")},success:function(a){$("#country").html("<option value=\"\">"+jsLang("Select Country")+"</option>"),$.each(a,function(a,b){$("#country").append(`'<option  ${b.code==oldCountry?"Selected":""} data-country="${b.code}" value="${b.code}">${b.name}</option>'`)}),$("#country").removeAttr("disabled")}}),"null"!=oldState&&getState(oldCountry),"null"!=oldCity&&getCity(oldState,oldCountry),$("#country").on("change",function(){oldCity="null",getState($("#country").find(":selected").attr("data-country"))});function getState(a){a?($("#state").html(""),"null"==oldCity&&$("#city").html(selectCity),$.ajax({url:url+"/geo-locale/countries/"+a+"/states",type:"GET",dataType:"json",beforeSend:function(){$("#state").attr("disabled","true"),$("#state").html(loader)},success:function(a){$("#state").html(selectState),$.each(a.data,function(a,b){$("#state").append(`'<option ${b.code==oldState?"Selected":""} data-state="${b.code}" value="${b.code}">${b.name}</option>'`)}),$("#state").removeAttr("disabled"),0>=a.length&&0>=a.data.length&&(errorMsg=errorMsg.replace(":x","State"),$("#state").html(`<option value="">${errorMsg}</option>`))}})):($("#state").html(selectState),$("#city").html(selectCity))}$("#state").on("change",function(){getCity($("#state").find(":selected").attr("data-state"),$("#country").find(":selected").attr("data-country"))});function getCity(a,b){a&&b?($("#city").html(""),$.ajax({url:url+"/geo-locale/countries/"+b+"/states/"+a+"/cities",type:"GET",dataType:"json",beforeSend:function(){$("#city").html(loader),$("#city").attr("disabled","true")},success:function(a){$("#city").html(selectCity),$.each(a.data,function(a,b){$("#city").append(`<option ${b.name==oldCity?"Selected":""} value="${b.name}">${b.name}</option>`)}),$("#city").removeAttr("disabled"),0>=a.length&&0>=a.data.length&&(errorMsg=errorMsg.replace(":x","City"),$("#city").html(`<option value="">${errorMsg}</option>`))}})):$("#city").html(selectCity)}($(".main-body .page-wrapper").find("#location-add-container").length||$(".main-body .page-wrapper").find("#purchase-add-container").length)&&($(document).on("keyup","#name",function(){var a=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(a.trim().toLowerCase().replace(/\s/g,"-")),$("#slug").parent().removeClass("has-validation-error"),$("#slug").parent().find("label").remove()}),$(document).on("keyup","#slug",function(){var a=this.value.replace(/[&\/\\#@,+()$~%.'":*?<>{}]/g,"");$("#slug").val(a.trim().toLowerCase().replace(/\s/g,"-"))}));
